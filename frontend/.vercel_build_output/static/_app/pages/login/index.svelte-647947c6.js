import{H as s,S as e,i as n,s as t,I as r,z as i}from"../../chunks/vendor-223db38c.js";import{C as o,g as a}from"../../chunks/CurrentProfile.store-573153db.js";import"../../chunks/singletons-bb9012b7.js";const c={subscribe:e=>(()=>{const e=s("__svelte__");return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:e.navigating.subscribe}},session:e.session}})().page.subscribe(e)};function u(s,e,n){let t;r(s,c,(s=>n(0,t=s)));var u=this&&this.__awaiter||function(s,e,n,t){return new(n||(n=Promise))((function(r,i){function o(s){try{c(t.next(s))}catch(e){i(e)}}function a(s){try{c(t.throw(s))}catch(e){i(e)}}function c(s){var e;s.done?r(s.value):(e=s.value,e instanceof n?e:new n((function(s){s(e)}))).then(o,a)}c((t=t.apply(s,e||[])).next())}))};return i((()=>u(void 0,void 0,void 0,(function*(){const s=t.query.get("token");s?(o.authorize(s),o.subscribe((s=>{s.loggedIn&&a("/app")}))):console.log("Send to auth")})))),[]}export default class extends e{constructor(s){super(),n(this,s,u,null,t,{})}}
